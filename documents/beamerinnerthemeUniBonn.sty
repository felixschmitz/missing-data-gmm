\mode<presentation>


\newcommand{\toptitle}[1][-0.1cm]{
	\vskip #1
	\begin{beamercolorbox}[wd=\paperwidth]{}
		\begin{beamercolorbox}[sep=0.75em, wd=0.84\paperwidth, ht=.12\paperheight, leftskip = 2ex]{frametitle}
			\usebeamerfont{frametitle}\insertframetitle\par%
			\usebeamerfont{framesubtitle}\insertframesubtitle\par%
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=0.08\paperwidth, ht=.12\paperheight, leftskip = 2ex]{graybox}
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=0.08\paperwidth, ht=.12\paperheight, leftskip = 2ex]{yellowbox}
		\end{beamercolorbox}%
	\end{beamercolorbox}
}

\newcommand{\bigtoptitle}[1][0.2cm]{
	\vskip #1
	\begin{beamercolorbox}[wd=\paperwidth]{}
		\begin{beamercolorbox}[sep=0.75em, wd=0.84\paperwidth, ht=.15\paperheight, leftskip = 2ex]{frametitle}
			\usebeamerfont{frametitle}\insertframetitle\par%
			\usebeamerfont{framesubtitle}\insertframesubtitle\par%
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=0.08\paperwidth, ht=.15\paperheight, leftskip = 2ex]{graybox}
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=0.08\paperwidth, ht=.15\paperheight, leftskip = 2ex]{yellowbox}
		\end{beamercolorbox}%
	\end{beamercolorbox}
}


% Frame with centered title
\newenvironment{framecenter}[1][]{
	% Frame Title
	\setbeamertemplate{frametitle}{\toptitle[4cm]}
	\begin{frame}{#1}}{\end{frame}}

% Title page
\defbeamertemplate*{title page}{UniBonn}[1][]
{
	\begin{beamercolorbox}[wd=\paperwidth]{}
		\begin{beamercolorbox}[sep=0.25em, wd=0.8\paperwidth, ht=.4\paperheight, leftskip = 2ex]{frametitle}
			\usebeamerfont{title}\inserttitle\par%
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=0.1\paperwidth, ht=.4\paperheight, leftskip = 2ex]{graybox}
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=0.1\paperwidth, ht=.4\paperheight, leftskip = 2ex]{yellowbox}
		\end{beamercolorbox}%
	\end{beamercolorbox}
    \vskip 1.5cm
            \begin{beamercolorbox}[wd=\paperwidth, leftskip = 2ex]{subtitle}
			\usebeamerfont{subtitle}\insertsubtitle%
			\end{beamercolorbox}
	\vskip 1.5cm
			\begin{beamercolorbox}[wd=\paperwidth, leftskip = 2ex]{author}
				\usebeamerfont{author}\insertauthor%
			\end{beamercolorbox}

			\begin{beamercolorbox}[wd=\paperwidth, leftskip = 2ex]{date}
				\usebeamerfont{date}\insertdate%
			\end{beamercolorbox}
	\vskip -1.5cm

	\begin{beamercolorbox}[wd=\paperwidth]{}
		\ifthenelse{\checkfor{TheLogo} = 0}{
			\begin{beamercolorbox}[wd=\paperwidth, right]{}
				\includegraphics[scale = 0.8]{UNI_Bonn_Logo_Standard_RZ}
			\end{beamercolorbox}
		}{
			\begin{beamercolorbox}[wd=.45\paperwidth, leftskip = 1cm]{}\TheLogo
			\end{beamercolorbox}
			\begin{beamercolorbox}[wd=.45\paperwidth, right]{}
				\includegraphics[scale = 0.8]{UNI_Bonn_Logo_Standard_RZ}
			\end{beamercolorbox}
		}

	\end{beamercolorbox}
}

% Footline
\setbeamertemplate{footline}
{
	\begin{beamercolorbox}[wd=\paperwidth]{}
		\begin{beamercolorbox}[wd=.3\paperwidth, leftskip=2ex]{graytext}%
				\usebeamerfont{author in head/foot}\insertshortauthor~\beamer@ifempty{\insertshortinstitute}{}
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=.4\paperwidth, center]{graytext}%
			\usebeamerfont{title in head/foot}\inserttitle~\beamer@ifempty{\insertshorttitle}{}
		\end{beamercolorbox}%
		\begin{beamercolorbox}[wd=.3\paperwidth, right]{graytext}%
			\insertframenumber{} / \inserttotalframenumber\hspace*{2.75ex}
		\end{beamercolorbox}%
	\end{beamercolorbox}
	\vskip0.1cm

}

\begin{comment}
\begin{beamercolorbox}[wd=.8\paperwidth,ht=2.75ex]{whitebox}
\begin{beamercolorbox}[wd=.8\paperwidth,ht=2.75ex,dp=0.8ex, leftskip = 2ex]{graytext}%
\usebeamerfont{author in head/foot}\insertshortauthor~\beamer@ifempty{\insertshortinstitute}{}\usebeamerfont{title in head/foot}\beamer@ifempty{\insertshorttitle}{}--~\usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
\insertframenumber{} / \inserttotalframenumber\hspace*{2.75ex}
\end{beamercolorbox}%
\begin{beamercolorbox}[wd=.2\paperwidth,ht=2.75ex, leftskip=3em]{whitebox}
\includegraphics[scale = 0.4]{UNI_Bonn_Logo_Standard_RZ}
\end{beamercolorbox}
\end{beamercolorbox}
\vskip0.1cm
\end{comment}

% Frame Title
\setbeamertemplate{frametitle}{\toptitle}


% Frame with long title
\newenvironment{framelong}[1][]{
	% Frame Title
	\setbeamertemplate{frametitle}{\bigtoptitle}
	\begin{frame}{#1}}{\end{frame}}


% Frame for Content
\newenvironment{framecontent}[1][]{
	% Frame Title
	\setbeamertemplate{frametitle}{\toptitle}

	\begin{frame}{#1}\setbeamercolor{section in toc}{fg=black}\tableofcontents}{\end{frame}}


% Frame of vertical style
\newenvironment{framevertical}[1][]{
	% Frame Title
	\setbeamertemplate{frametitle}{
		\begin{beamercolorbox}[wd=\paperwidth, ht=0.8\paperheight]{}
			\begin{beamercolorbox}[sep=1em, wd=0.2\paperwidth, ht=.6\paperheight]{frametitle}
				\usebeamerfont{frametitle}\insertframetitle\par%
				\usebeamerfont{framesubtitle}\insertframesubtitle\par%
			\end{beamercolorbox}%

			\begin{beamercolorbox}[wd=0.2\paperwidth, ht=.15\paperheight]{graybox}
			\end{beamercolorbox}%

			\begin{beamercolorbox}[wd=0.2\paperwidth, ht=.15\paperheight]{yellowbox}
			\end{beamercolorbox}%
	\end{beamercolorbox}}
	\begin{frame}{#1}}{\end{frame}}


% Frame of vertical style
\newenvironment{frameverticalcontent}[1][]{
	% Frame Title
	\setbeamertemplate{frametitle}{
		\begin{beamercolorbox}[wd=\paperwidth, ht=0.8\paperheight]{}
			\begin{beamercolorbox}[wd=0.2\paperwidth, ht=.6\paperheight]{bluebox}
				\begin{beamercolorbox}[wd=0.02\paperwidth, ht=.6\paperheight]{}
				\end{beamercolorbox}%
				\begin{beamercolorbox}[sep=0.2em, dp=0.2em,dp=4em, wd=0.18\paperwidth, ht=.6\paperheight]{}
					{\linespread{2}
						\tiny{\tableofcontents[currentsection]}}
				\end{beamercolorbox}%
			\end{beamercolorbox}

			\begin{beamercolorbox}[wd=0.2\paperwidth, ht=.15\paperheight]{graybox}
			\end{beamercolorbox}%

			\begin{beamercolorbox}[wd=0.2\paperwidth, ht=.15\paperheight]{yellowbox}
			\end{beamercolorbox}%
		\end{beamercolorbox}}
	\begin{frame}{#1}}{\end{frame}}


% Blank frame
\newenvironment{frameblank}[1][]{
	% Frame Title
	\setbeamertemplate{frametitle}{}
	\begin{frame}{#1}}{\end{frame}}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{blocks}[rounded][shadow=true]

% Items
\setbeamertemplate{items}[circle]
\setbeamertemplate{enumerate subitem}[square]
\setbeamertemplate{itemize subitem}{\contour{themeblue}{$\bullet$}}
\setbeamertemplate{sections/subsections in toc}[square]



\newenvironment{defblock}[1][]{\begin{block}{\transparent{0.5}#1}\transparent{0.5}}{\end{block}}

% Define custom equation spacing
\newcommand{\customEquationSpacing}{
  \setlength{\abovedisplayskip}{8pt} % Adjust spacing above equations
  \setlength{\belowdisplayskip}{8pt} % Adjust spacing below equations
  \setlength{\abovedisplayshortskip}{0pt} % For short equations
  \setlength{\belowdisplayshortskip}{0pt} % For short equations
}

% Create a beamer template for applying the custom spacing
\setbeamertemplate{custom equation spacing}{\customEquationSpacing}


\mode
<all>
